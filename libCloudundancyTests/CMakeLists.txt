project(libCloudundancyTests)
include(${CMAKE_SOURCE_DIR}/CMakeMacros.cmake)

include_directories(${CMAKE_SOURCE_DIR})
if(UNIX)
   include_directories(${CMAKE_CURRENT_SOURCE_DIR}) # Includes directory libCloudundancyTests so that pch.h can be found
endif()
include_directories(${ZenUnitIncludeDirectory})
include_directories(${ZenMockIncludeDirectory})

folder_source_group(Components)
folder_source_group_subfolder(Components Assertion)
folder_source_group_subsubfolder(Components Assertion ZenMock)
folder_source_group_subfolder(Components Compiler)
folder_source_group_subfolder(Components Console)
folder_source_group_subsubfolder(Components Console ZenMock)
folder_source_group_subfolder(Components Conversion)
folder_source_group_subfolder(Components DataStructure)
folder_source_group_subfolder(Components Docopt)
folder_source_group_subsubfolder(Components Docopt ZenUnit)
folder_source_group_subsubfolder(Components Docopt ZenMock)
folder_source_group_subfolder(Components Exception)
folder_source_group_subsubfolder(Components Exception ZenMock)
folder_source_group_subfolder(Components FileSystem)
folder_source_group_subsubfolder(Components FileSystem ZenUnit)
folder_source_group_subsubfolder(Components FileSystem ZenMock)
folder_source_group_subfolder(Components Function)
folder_source_group_subsubfolder(Components Function Member)
folder_source_group_subsubsubfolder(Components Function Member ZenMock)
folder_source_group_subsubfolder(Components Function NonMember)
folder_source_group_subsubsubfolder(Components Function NonMember ZenMock)
folder_source_group_subfolder(Components Iteration)
folder_source_group_subsubfolder(Components Iteration ForEach)
folder_source_group_subsubsubfolder(Components Iteration ForEach ZenMock)
folder_source_group_subsubfolder(Components Iteration Tranform)
folder_source_group_subsubsubfolder(Components Iteration Tranform ZenMock)
folder_source_group_subfolder(Components Process)
folder_source_group_subsubfolder(Components Process Linux)
folder_source_group_subsubsubfolder(Components Process Linux ZenMock)
folder_source_group_subsubfolder(Components Process Windows)
folder_source_group_subsubsubfolder(Components Process Windows ZenMock)
folder_source_group_subsubfolder(Components Process ZenMock)
folder_source_group_subsubfolder(Components Process ZenUnit)
folder_source_group_subfolder(Components Iteration)
folder_source_group_subsubfolder(Components Iteration ForEach)
folder_source_group_subsubsubfolder(Components Iteration ForEach ZenMock)
folder_source_group_subsubfolder(Components Iteration Math)
folder_source_group_subsubsubfolder(Components Iteration Math ZenMock)
folder_source_group_subsubfolder(Components Iteration Transform)
folder_source_group_subsubsubfolder(Components Iteration Transform ZenMock)
folder_source_group_subfolder(Components Memory)
folder_source_group_subsubfolder(Components Memory ZenMock)
folder_source_group_subfolder(Components Process)
folder_source_group_subfolder(Components Random)
folder_source_group_subsubfolder(Components Random ZenMock)
folder_source_group_subfolder(Components Strings)
folder_source_group_subsubfolder(Components Strings ZenMock)
folder_source_group_subfolder(Components SubPrograms)
folder_source_group_subsubfolder(Components SubPrograms ZenMock)
folder_source_group_subfolder(Components Time)
folder_source_group_subsubfolder(Components Time ZenUnit)
folder_source_group_subsubfolder(Components Time ZenMock)
folder_source_group_subfolder(Components Types)
folder_source_group_subfolder(Components ZenMock)
folder_source_group(Enums)
folder_source_group(ValueTypes)
folder_source_group_subsubfolder(ValueTypes ZenUnit Equalizer)
folder_source_group_subsubfolder(ValueTypes ZenUnit Random)
folder_source_group(ZenUnitTesting)

file(GLOB_RECURSE Sources *.h *.cpp)
source_group("" FILES ${Sources})

add_executable(libCloudundancyTests ${Sources})

target_link_libraries(libCloudundancyTests libCloudundancy)
if(UNIX)
   target_link_libraries(libCloudundancyTests stdc++fs)
endif()

EnablePrecompiledHeaders()
IfMSVCAddRunTestsPostBuildStep()

if(UNIX)
   if(CodeCovMode)
     target_link_libraries(libCloudundancyTests CodeCovLibraryInterface)
   endif()
endif()
